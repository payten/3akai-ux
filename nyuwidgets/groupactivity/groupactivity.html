<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/nyuwidgets/groupactivity/lib/jquery.ui.tabs.css" />
<link rel="stylesheet" type="text/css" href="/nyuwidgets/groupactivity/css/groupactivity.css" />

<div>   
    <!-- MAIN VIEW -->
    <div  id="groupactivity_display" class="s3d-widget-content fl-widget-content" style="display:none">
        <div class="s3d-contentpage-title">
            Group Activity Reports
        </div>
        <div id="tabs">
            <ul>
                    <li><a href="#localcontent">Group Pages</a></li>
                    <li><a href="#librarycontent">Group Library Content</a></li>
            </ul>
            <div id="localcontent">
                <div class="actions">
                    <a href="javascript:void(0);" id="refreshLocalContent">Refresh</a>
                </div>
                <div class="report"></div>
            </div>
            <div id="librarycontent">
                <div class="actions">
                    <a href="javascript:void(0);" id="refreshLibraryContent">Refresh</a>
                </div>
                <div class="report"></div>
            </div>
        </div>
    </div>

    <!-- WIDGET FOOTER-->
    <div class="s3d-widget-no-options">
        <div class="s3d-widget-no-options-inner"></div>
    </div>


    <!-- TEMPLATES -->
    <div id="groupactivity_library_report_template"><!--
        <table class="groupactivity-report tablesorter">
            <thead>
                <tr>
                    <th class="col-title">Title</th>
                    <th class="col-createdby">Created By</th>
                    <th class="col-created">Created Date</th>
                    <th class="col-modified">Updated Date</th>
                </tr>
                <tr class="filters">
                    <td class="label">Filter by:</td>
                    <td>
                       <select id="groupactivity_userFilter">
                       <option value=""></option>
                       {for user in allUsers}<option value="${user}">${user}</option>{/for}
                       </select>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
               {for item in items}
                   <tr>
                      <td><a href="/content#p=${item["_path"]}/${item["sakai:pooled-content-file-name"]}">${item["sakai:pooled-content-file-name"]}</a></td>
                      <td class="user">{if item["sakai:pool-content-created-for"]}${item["sakai:pool-content-created-for"]}{else}${item["_createdBy"]}{/if}</td>
                      <td class="date" sortby="${item["_created"]}">${Globalize.format(new Date(item["_created"]), 'yyyy-MM-dd HH:mm:ss')}</td>
                      <td class="date" sortby="${item["_lastModified"]}">${Globalize.format(new Date(item["_lastModified"]), 'yyyy-MM-dd HH:mm:ss')}</td>
                   </tr>
               {/for}
            </tbody>
        </table>
    --></div>
    
    <div id="groupactivity_content_report_template"><!--        
        <table class="groupactivity-report tablesorter">
            <thead>
                <tr>
                    <th class="col-title">Title</th>
                    <th class="col-area">Area</th>
                    <th class="col-modifiedby">Updated By</th>
                    <th class="col-modified">Updated Date</th>
                </tr>
                <tr class="filters">
                    <td class="label">Filter by:</td>
                    <td>
                       <select id="groupactivity_areaFilter">
                       <option value=""></option>
                       {for area in allAreas}<option value="${area}">${area}</option>{/for}
                       </select>
                    </td>
                    <td>
                       <select id="groupactivity_userFilter">
                       <option value=""></option>
                       {for user in allUsers}<option value="${user}">${user}</option>{/for}
                       </select>
                    </td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
               {for item in items}
                   <tr>
                      <td><a href="#l=${item["area_id"]}/${item["_ref"]}">${item["title"]}</a></td>
                      <td class="area">${item["area"]}</td>                                                        
                      <td class="user">${item["_lastModifiedBy"]}</td>
                      <td class="date" sortby="${item["_lastModified"]}">${Globalize.format(new Date(item["_lastModified"]), 'yyyy-MM-dd HH:mm:ss')}</td>
                   </tr>
               {/for}
            </tbody>
        </table>
    --></div>    
   
    
    <!-- MESSAGES -->    

</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/nyuwidgets/groupactivity/javascript/groupactivity.js"></script>
